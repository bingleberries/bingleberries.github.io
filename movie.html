<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Bing's Hub</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<style>
  :root{
    --bg:#04050a;
    --panel:rgba(8,14,28,0.6);
    --accent:#1ea7ff;
    --glass:rgba(255,255,255,0.04);
    --muted:rgba(230,238,248,0.65);
  }
  html,body{
    height:100%;
    margin:0;
    font-family:Inter, system-ui, Arial, sans-serif;
    color:#e6eef8;
    overflow-x:hidden;
    background:var(--bg);
  }

  /* full-screen canvas */
  #space {
    position:fixed;
    inset:0;
    z-index:0;
    display:block;
    background:var(--bg);
  }

  /* Animated nebula layer */
  .nebula {
    position:fixed;
    inset: -10%;
    z-index:1;
    pointer-events:none;
    background:
      radial-gradient(60% 40% at 15% 20%, rgba(16,112,255,0.14), transparent 18%),
      radial-gradient(50% 30% at 85% 70%, rgba(155,50,255,0.10), transparent 18%),
      radial-gradient(40% 40% at 50% 50%, rgba(255,140,100,0.06), transparent 15%),
      transparent;
    mix-blend-mode: screen;
    filter: blur(28px) contrast(1.1) saturate(1.2);
    animation: nebulaDrift 28s linear infinite;
  }
  @keyframes nebulaDrift{
    0%{ transform: translate3d(0,0,0) scale(1) rotate(0deg); }
    50%{ transform: translate3d(-4%,2%,0) scale(1.05) rotate(1deg); }
    100%{ transform: translate3d(0,0,0) scale(1) rotate(0deg); }
  }

  /* subtle starfield texture overlay */
  .grain {
    position:fixed; inset:0; z-index:2; pointer-events:none;
    background-image: radial-gradient(white 0.6px, transparent 0.6px);
    opacity:0.02; transform: scale(1.2);
  }

  /* top-left controls panel */
  .controls {
    position:fixed;
    left:20px;
    top:20px;
    z-index:4;
    width:min(420px, calc(100% - 40px));
    padding:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px;
    box-shadow: 0 10px 40px rgba(1,6,18,0.6);
    backdrop-filter: blur(6px) saturate(1.1);
    border: 1px solid rgba(255,255,255,0.03);
  }
  .brand { display:flex; gap:12px; align-items:center; }
  .logo {
    width:48px; height:48px; border-radius:10px;
    background: linear-gradient(135deg, var(--accent), #8b5cf6);
    display:grid; place-items:center; font-weight:800; font-size:18px; color:#00122a;
  }
  .title { font-size:16px; margin:0; font-weight:700; }
  .subtitle { font-size:12px; color:var(--muted); margin-top:4px; }

  .search {
    margin-top:12px; display:flex; gap:8px;
  }
  .search input{
    flex:1; padding:10px 12px; border-radius:10px; border:0;
    background: rgba(255,255,255,0.02); color:inherit; outline:none;
    box-shadow: inset 0 -1px 0 rgba(255,255,255,0.02);
  }
  .search button {
    padding:10px 12px; border-radius:10px; border:0; background:var(--accent); color:#00122a; cursor:pointer;
  }

  .genres { margin-top:12px; display:flex; gap:8px; flex-wrap:wrap; }
  .chip { padding:7px 10px; border-radius:999px; background:transparent; border:1px solid rgba(255,255,255,0.04); cursor:pointer; font-size:13px; color:var(--muted); }
  .chip.active { background: linear-gradient(90deg,var(--accent), #6ee7b7); color:#041429; border:0; }

  /* results grid (in a floating container at bottom-left) */
  .results {
    position:fixed;
    left:20px;
    bottom:20px;
    z-index:4;
    width:min(600px, calc(100% - 40px));
    max-height:55vh;
    overflow:auto;
    padding:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px;
    box-shadow:0 20px 60px rgba(1,6,18,0.6);
    border:1px solid rgba(255,255,255,0.03);
    backdrop-filter: blur(6px);
  }
  .results .item { display:flex; gap:10px; align-items:center; padding:8px; border-radius:8px; cursor:pointer; transition:transform .12s; }
  .results .item:hover { transform: translateY(-4px); }
  .thumb { width:56px; height:64px; border-radius:8px; display:grid; place-items:center; font-weight:800; background: linear-gradient(180deg, rgba(255,255,255,0.03), transparent); color:var(--muted); [...]
  .meta { font-size:12px; color:var(--muted); }

  /* center contact area (replaces floating logos) */
  /* moved to top-right so it doesn't cover center content */
  .logo-field {
    position:fixed;
    top:20px;
    right:20px;
    z-index:5;
    display:block;
    pointer-events:none; /* container shouldn't capture pointer, the contact box will */
  }
  .contact {
    pointer-events:auto;
    text-align:center;
    color:var(--muted);
    font-size:18px;
    padding:10px 14px;
    border-radius:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border:1px solid rgba(255,255,255,0.02);
    backdrop-filter: blur(6px);
    max-width:320px;
  }

  /* small glowing outline for former logos (removed) */

  /* shooting star canvas will paint over the star canvas (same canvas used) */

  /* full page scrollbar style */
  ::-webkit-scrollbar { width:12px; height:12px; }
  ::-webkit-scrollbar-thumb { background: linear-gradient(var(--accent), #6ee7b7); border-radius:8px; }
  ::-webkit-scrollbar-track { background: rgba(255,255,255,0.02); }

  /* responsive */
  @media (max-width:900px){
    .controls { left:12px; right:12px; top:12px; width:auto; }
    .results { left:12px; right:12px; width:auto; bottom:12px; max-height:45vh; }
    .contact { font-size:16px; padding:12px 14px; max-width:220px; }

    /* keep contact visible on small screens, tuck it in near the controls */
    .logo-field { top:12px; right:12px; }
  }
</style>
</head>
<body>
  <!-- canvas for stars + shooting stars -->
  <canvas id="space" aria-hidden="true"></canvas>

  <!-- nebula overlay -->
  <div class="nebula" aria-hidden="true"></div>
  <div class="grain" aria-hidden="true"></div>

  <!-- top-left control panel -->
  <div class="controls" role="region" aria-label="Controls">
    <div class="brand">
      <div class="logo">B</div>
      <div>
        <p class="title">Bing's Hub</p>
        <div class="subtitle">Space theme • click a logo or search below</div>
      </div>
    </div>

    <div class="search">
      <input id="q" placeholder="Search movies, comics, shows..." oninput="renderList()" />
      <button id="clear" title="Clear" onclick="clearSearch()">✕</button>
    </div>

    <div class="genres" id="genres"></div>
  </div>

  <!-- moved contact text to top-right -->
  <div class="logo-field" aria-hidden="false">
    <div class="contact" role="contentinfo">contact <a href="mailto:30barmarsh@gmail.com" style="color:inherit;text-decoration:underline;">30barmarsh@gmail.com</a> for questions/comments</div>
  </div>

  <!-- bottom-left results -->
  <div class="results" id="results" role="region" aria-label="Search results">
    <!-- items injected by JS -->
  </div>

<script>
/* ============================
   Data (your items)
   ============================ */
const items = [
  {title: "The CupHead Show", url: "https://drive.google.com/drive/folders/1j_K1YV4w_sHAzwEAaUMl-qSk4qjrYSJ_", genre: "Cartoons"},
  {title: "Five Nights at Freddy's full movie", url: "https://drive.google.com/file/d/1OyO1OdhtfwR883Uvi0QPP5iooGcxTVSY/view", genre: "Horror"},
  {title: "Kirby: Right Back At Ya!", url: "https://drive.google.com/drive/folders/1LawIFQ48UCdP3-VUan7iWTm4l5EonWYw", genre: "Cartoons"},
  {title: "Avengers Endgame (2019)", url: "https://drive.google.com/file/d/1UsxNtlBxGFp955GwEB-s8wYJCA6bXt7e/view", genre: "Movies"},
  {title: "Ant-Man And The Wasp", url: "https://drive.google.com/file/d/1AstKQ5KLX94k7RFIlsu2St9um8sS_w_M/view", genre: "Movies"},
  {title: "Black Panther (2018)", url: "https://drive.google.com/file/d/1GdMksUpH7ghCBF1j4sEmJU9hmZ3pPpkn/view", genre: "Movies"},
  {title: "Zootopia (2016)", url: "https://drive.google.com/file/d/1HYeIrbf8A-vfvJsvYP59AQzG9l8nt03h/view", genre: "Movies"},
  {title: "Garfield & Friends", url: "https://drive.google.com/drive/folders/1u9Pr61UADQ2cTYvkIkqpEjCzJf9bM9Ic", genre: "Shows"},
  {title: "Gravity Falls", url: "https://drive.google.com/drive/folders/1Q6s6AB7BAOndbFy4xcnuX4FjO8uHnqaZ", genre: "Shows"},
  {title: "Smiling Friends", url: "https://drive.google.com/drive/folders/1px8IK0jaSlqj3fK-yawRwD0aQD4pXGld", genre: "Shows"},
  {title: "SpongeBob Seasons 1-15", url: "https://drive.google.com/drive/folders/1cOFMumtLFERJqS6Y5oTyBb6ZRXNHCgZF", genre: "Shows"},
  {title: "Sonic the Hedgehog Comics", url: "https://drive.google.com/drive/folders/1Rl63s8mf0P41xy-bVNamLoEz7xAkf-nL", genre: "Comics"},
  {title: "Invincible (1-144)", url: "https://drive.google.com/drive/folders/1s21qKWyfqZeqr5ptjJDCFIrUSCPrVMhb", genre: "Comics"},
  {title: "Jujutsu Kaisen S1", url: "https://drive.google.com/drive/folders/1pQ5CC4NeCB9bj-IrIHeu2x3nskc4gPeS", genre: "Anime"},
    {title: "One Punch Man", url: "https://drive.google.com/drive/folders/1yGjMeMX0_1vUHa6XbpszYGe5yLqYLKRc", genre: "Anime"},
      {title: "Adventure Time", url: "https://drive.google.com/drive/folders/1OwoKydzUQUUp6n-Nh7CCAQXGLfchU8Ta", genre: "Cartoons"},
  // ...add more if you like
];

/* ================
   UI: genres & chips
   ================ */
const fixedGenres = ["All","Movies","Comics","Shows","Horror","Cartoons","Comedy","Anime"];
const genresEl = document.getElementById('genres');
genresEl.innerHTML = fixedGenres.map((g,i)=>`<button class="chip ${i===0?'active':''}" data-genre="${g}">${g}</button>`).join('');
genresEl.addEventListener('click', e=>{
  const btn = e.target.closest('.chip'); if(!btn) return;
  document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
  btn.classList.add('active'); renderList();
});

function clearSearch(){ document.getElementById('q').value=''; renderList(); }

/* ================
   Render results
   ================ */
function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

function renderList(){
  const q = document.getElementById('q').value.trim().toLowerCase();
  const active = document.querySelector('.chip.active')?.dataset.genre || 'All';
  const results = document.getElementById('results');
  const filtered = items.filter(i=>{
    if(active!=='All' && i.genre.toLowerCase()!==active.toLowerCase()) return false;
    if(!q) return true;
    return (i.title + ' ' + i.genre).toLowerCase().includes(q);
  });

  results.innerHTML = filtered.map((it,idx)=>`
    <div class="item" role="button" tabindex="0" onclick="openItem(${idx})" onkeypress="if(event.key==='Enter') openItem(${idx})">
      <div class="thumb">${escapeHtml(it.title.split(' ').slice(0,2).map(s=>s[0]||'').join(''))}</div>
      <div style="flex:1">
        <div style="font-weight:700">${escapeHtml(it.title)}</div>
        <div class="meta">${escapeHtml(it.genre)}</div>
      </div>
      <div style="font-size:12px;color:var(--muted);padding-left:6px">↗</div>
    </div>
  `).join('') || '<div style="color:var(--muted);padding:8px">Nothing found</div>';
}
window.openItem = function(i){
  const url = items[i]?.url;
  if(!url) return;
  // open direct
  window.open(url,'_blank');
};
renderList();

/* ============================
   Canvas stars + shooting stars
   ============================ */
const canvas = document.getElementById('space');
const ctx = canvas.getContext('2d', { alpha: false });
let DPR = Math.max(1, window.devicePixelRatio || 1);

function resizeCanvas(){
  DPR = Math.max(1, window.devicePixelRatio || 1);
  canvas.width = Math.floor(window.innerWidth * DPR);
  canvas.height = Math.floor(window.innerHeight * DPR);
  canvas.style.width = window.innerWidth + 'px';
  canvas.style.height = window.innerHeight + 'px';
  ctx.setTransform(DPR,0,0,DPR,0,0);
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

const STAR_COUNT = Math.round((window.innerWidth * window.innerHeight) / 14000);
const stars = [];
for(let i=0;i<STAR_COUNT;i++){
  stars.push({
    x: Math.random() * window.innerWidth,
    y: Math.random() * window.innerHeight,
    r: Math.random()*1.6 + 0.2,
    alpha: Math.random()*0.9 + 0.1,
    twinkleSpeed: Math.random()*0.02 + 0.002,
    phase: Math.random()*Math.PI*2
  });
}

const shootingStars = [];
function spawnShootingStar(){
  // spawn from random side upper-left quadrant
  const fromLeft = Math.random() < 0.5;
  const startX = fromLeft ? Math.random()*window.innerWidth*0.25 : Math.random()*(window.innerWidth*0.75)+window.innerWidth*0.25;
  const startY = Math.random()*window.innerHeight*0.35;
  const angle = (Math.random()*20 + 10) * Math.PI/180; // shallow angle
  const speed = Math.random()*900 + 600;
  shootingStars.push({
    x: startX,
    y: startY,
    vx: Math.cos(angle) * speed * (fromLeft ? 1 : -1),
    vy: Math.sin(angle) * speed,
    life: 0,
    ttl: Math.random()*800 + 600,
    len: Math.random()*220 + 120
  });
  // schedule next
  setTimeout(spawnShootingStar, Math.random()*3500 + 900);
}
// initial spawn schedule
setTimeout(spawnShootingStar, 1200);

let last = performance.now();
function tick(now){
  const dt = Math.min(40, now - last);
  last = now;
  // clear
  ctx.fillStyle = '#04050a';
  ctx.fillRect(0,0, canvas.width/DPR, canvas.height/DPR);

  // draw stars (twinkle)
  for(let s of stars){
    s.phase += s.twinkleSpeed * (dt/16);
    const a = s.alpha * (0.6 + Math.sin(s.phase)*0.4);
    ctx.beginPath();
    ctx.fillStyle = `rgba(255,255,255,${a})`;
    ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
    ctx.fill();
  }

  // draw subtle larger glows (sparks)
  for(let i=0;i<6;i++){
    const idx = (i*73) % stars.length;
    const s = stars[idx];
    ctx.beginPath();
    const grad = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, s.r*12);
    grad.addColorStop(0, 'rgba(255,255,255,0.03)');
    grad.addColorStop(1, 'rgba(255,255,255,0)');
    ctx.fillStyle = grad;
    ctx.fillRect(s.x - s.r*12, s.y - s.r*12, s.r*24, s.r*24);
    ctx.fill();
  }

  // shooting stars
  for(let i = shootingStars.length-1; i>=0; i--){
    const st = shootingStars[i];
    st.x += st.vx * (dt/1000);
    st.y += st.vy * (dt/1000);
    st.life += dt;
    const t = st.life / st.ttl;
    // draw trail
    const tx = st.x - st.vx * 0.02;
    const ty = st.y - st.vy * 0.02;
    ctx.save();
    const grad = ctx.createLinearGradient(st.x, st.y, tx, ty);
    grad.addColorStop(0, 'rgba(255,255,255,0.95)');
    grad.addColorStop(1, 'rgba(255,255,255,0)');
    ctx.strokeStyle = grad;
    ctx.lineWidth = 2.2;
    ctx.beginPath();
    ctx.moveTo(st.x, st.y);
    ctx.lineTo(st.x - st.vx/60, st.y - st.vy/60);
    ctx.stroke();

    // head
    ctx.beginPath();
    ctx.fillStyle = `rgba(255,255,255,${1 - t})`;
    ctx.arc(st.x, st.y, 2.6 + (1-t)*2, 0, Math.PI*2);
    ctx.fill();
    ctx.restore();

    if(st.life > st.ttl || st.x < -100 || st.x > window.innerWidth+100 || st.y > window.innerHeight+200){
      shootingStars.splice(i,1);
    }
  }

  requestAnimationFrame(tick);
}
requestAnimationFrame(tick);

/* keep star positions on resize */
window.addEventListener('resize', ()=>{
  // reposition stars within new bounds
  for(let s of stars){
    s.x = Math.min(window.innerWidth, s.x);
    s.y = Math.min(window.innerHeight, s.y);
  }
});

/* accessibility: focus on search when press / */
window.addEventListener('keydown', (e)=>{
  if(e.key === '/') { e.preventDefault(); document.getElementById('q').focus(); }
});
</script>
</body>
</html>
